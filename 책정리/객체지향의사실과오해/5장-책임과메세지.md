# 5장 - 책임과 메세지

## 1. 책임

* 책임이란?
    * 요청을 처리하기 위해 객체가 수행하는 행동
* 책임을 수행할 수 있다면, 객체는 어떤 방법으로 수행하든 상관없다.
    * 왕은 단지 모자장수가 '증언' 하기를 바랄 뿐이다.
    * 모자장수가 메모를 사용하든, 더듬거리면서 말하든, 영상을 통해서 증언하든 방법은 상관없다.
    * 이는 곧 모자장수의 자율성의 증대를 의미한다.
* 자율적인 객체의 특징은 어떻게(how)가 아니라, 무엇(what)을 설명한다는 것이다.
* 객체가 수신할 수 있는 외부의 메세지는 해당 객체의 책임을 나타낸다.
    * 메세지를 처리하기 위해 내부적으로 선택하는 방법이 메서드이다.
* RDD(책임 주도 설계)는 책임을 가진 객체들이 협력하는 방향으로 시스템을 설계하는 것을 일컷는다.
* what/who 사이클
    * 책임을 먼저 정한뒤, 해당 책임을 수행할 객체를 정하는 것
    * 즉, what을 먼저 정하고 who를 정하는 것을 의미한다.

## 2. 메세지

* 메세지는 아래와 같은 형식을 띤다.
    * 수신자.메세지이름(인자)
    * ex) 모자장수.증언하라(어제,왕국)
* 수신자와 송신자는 메세지라는 얇은 끈으로 이루어져있다.
* 메세지가 객체를 선택해야지, 객체가 메세지를 선택하면 안된다.
* 수신된 메세지가 객체의 책임을 결정한다.
* 메세지가 먼저 결정되고, 후에 메세지를 선택할 후보를 결정한다.
* 객체지향에서는 스스로에게 요청을 보낼 때도 메세지를 사용해야 한다.

## 3. 다형성

* 다형성에서 중요한 것은 송신자의 관점이다.
* 왕은 증언만 할 수 있다면, 누가 증언하든 상관없다.
* 다형성은 대체 가능성을 의미한다.
* 송신자가 수신자에 대해서 매우 적은 정보만 알고 있더라도 상호작용 할 수 있다는 것은 객체지향의 코드 품질에서 매우 중요하다.

## 4. 인터페이스

* 인터페이스란?
    * 두 사물의 경계에서 서로 상호작용 할 수 있게 이어지는 방법이나 장치
    * 운전에서 사용자한테 최소한의 정보를 노출하는 메커니즘과 같다.
* 메세지를 먼저 결정하고, 객체를 나중에 결정하는 방식은 인터페이스 사용으로 이어진다.
* 인터페이스를 통해 메세지를 수신할 수 있다.
* 인터페이스 설계 원칙
    * 추상적으로 인터페이스를 설계하라
        * ex) 증언하라 o
        * ex) 촐싹거리며 메모장을 활용하며 증언하라 x
    * 최소한의 인터페이스를 설계하라
        * 메세지를 따르다보면 최소한으로 설계하게 된다.
    * 인터페이스와 구현의 차이를 띠라
        * 객체의 외부에는 인터페이스를 두고, 내부는 철저히 숨겨라.
* 객체 지향의 핵심은 인터페이스와 구현객체를 철저히 분리하는 것에서 나온다.
    * 즉, 외부와 내부를 철저히 분리해야 한다.
    * 변경이 많을 수 있는 부분, 즉 구현 객체에 대해서 감추는 것을 캡슐화라고 한다.
* 객체를 자율적인 존재로 보는 것은 결국 외부와 내부를 명확히 분리함을 의미한다.