u# DI

## 개요

* singleton의 단점
  * singleton은 module간 결합(coupling)을 강하게 만들 수 있다는 단점이 있다.
    * DI를 통해 모듈간의 결합을 느슨하게 만들어 줄 수 있다.

> 💡 DI란?<br/>
> 메인 모듈이 직접 다른 하위 모듈들에 의존성 주입을 하기보다, 의존성 주입자(dependency Injector)가 흐름을 가로채서 메인 모듈이 간접적으로 의존성을 주입하는 방식이다.

* DI는 컴파일 타임이 아닌, <u>런타임에 종속성</u>을 해결하는 데 사용된다.
* DI는 디자인 패턴의 일종이다.

### 그림 예시
<br/>

<img width=300 src="../images/di1.png">

## 의존성 주입의 장점

* 모듈들을 쉽게 교체할 수 있는 구조가 된다.
* 구현할 때 <u>추상화 레이어를 넣고</u>, 해당 추상화 레이어를 기반으로 구현체를 주입해주기 때문에 application **방향**이 일관되진다.
  * 해당 추상화 레이어는 인터페이스를 떠올려보자.

## 의존성 주입의 단점

* 모듈들이 더욱 분리되기 때문에 클래스 수가 늘어난다.
  * 예를 들어, 의존성 주입을 담당하는 의존성 주입자 클래스가 생성돼야 하고, 관련 인터페이스들이 생성돼야 한다.
  * 복잡성이 증가될 수 있다.
* 종속성은 <u>런타임에 해결되기 때문에</u> 컴파일 타임에 체크할 수 없다.



